<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Embeddings" href="embedding.html" /><link rel="prev" title="Installation" href="installation.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Data Preprocessing - Thema 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=788eb046" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Thema 1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Thema 1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../thema.html">THEMA</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of THEMA</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../multiverse/thema.multiverse.html">THEMA: Multiverse</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of THEMA: Multiverse</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../multiverse/thema.multiverse.system.html">THEMA: Systems</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of THEMA: Systems</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../multiverse/innerSystem.html">Inner System</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multiverse/outerSystem.html">Outer System</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../multiverse/thema.multiverse.universe.html">THEMA: Universe</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of THEMA: Universe</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../multiverse/multiverse.stars.html">Stars</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multiverse/multiverse.galaxy.html">Galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multiverse/multiverse.geodesics.html">Geodesics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../probe/thema.probe.html">THEMA: Probe</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of THEMA: Probe</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../probe/thema.probe.telescope.html">Telescope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../probe/thema.probe.observatory.html">Observatories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../probe/thema.probe.utils.html">Probe Utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html">THEMA: Core</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../user_guide.html">User Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Data Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="embedding.html">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphing.html">Graph Construction</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/userGuides/preprocessing.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="data-preprocessing">
<span id="preprocessing"></span><h1>Data Preprocessing<a class="headerlink" href="#data-preprocessing" title="Link to this heading">¶</a></h1>
<p>Data preprocessing is a crucial step in the data analysis pipeline. It involves cleaning, transforming, and organizing raw data to prepare it for further analysis. This section outlines the steps involved in preprocessing data using <code class="docutils literal notranslate"><span class="pre">Thema</span></code>.</p>
<section id="manual-data-exploration">
<h2>Manual Data Exploration<a class="headerlink" href="#manual-data-exploration" title="Link to this heading">¶</a></h2>
<p>Before diving into automated preprocessing, it’s essential to manually explore the data. This step helps you understand the dataset’s structure, identify missing values, detect outliers, and gain insights into the data’s distribution and relationships.</p>
<p><code class="docutils literal notranslate"><span class="pre">Thema</span></code> provides tools to summarize, clean, scale, encode, and pre-process your data, making it easier to identify patterns and anomalies. These insights can guide your preprocessing decisions and help you choose the right techniques to clean and prepare the data.</p>
<p>Once you’ve completed the manual data exploration and identified the preprocessing steps required, <code class="docutils literal notranslate"><span class="pre">Thema</span></code> supports the creation of a formatted <cite>.yaml</cite> parameter file. This file captures the preprocessing steps and their parameters, making it easy to reproduce the preprocessing pipeline.</p>
<p>The parameter file can include instructions for handling missing values, scaling features, encoding categorical variables, and other preprocessing tasks. By creating this file, you can automate the preprocessing pipeline and apply it consistently to new datasets.</p>
<p>For detailed instructions on creating the <cite>.yaml</cite> parameter file and using it to preprocess your data, refer to the Params YAML Guide. This guide provides examples and best practices for defining preprocessing steps and parameters in <code class="docutils literal notranslate"><span class="pre">Thema</span></code>.</p>
</section>
<section id="walkthrough">
<h2>Walkthrough<a class="headerlink" href="#walkthrough" title="Link to this heading">¶</a></h2>
<section id="step-1-data">
<h3>Step 1: Data<a class="headerlink" href="#step-1-data" title="Link to this heading">¶</a></h3>
<p>To demonstrate the data cleaning and preprocessing functionality, let’s create a sample DataFrame.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">   ...: </span>    <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Mercury&#39;</span><span class="p">,</span> <span class="s1">&#39;Venus&#39;</span><span class="p">,</span> <span class="s1">&#39;Earth&#39;</span><span class="p">,</span> <span class="s1">&#39;Jupiter&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturn&#39;</span><span class="p">],</span>
<span class="gp">   ...: </span>    <span class="s1">&#39;Diameter [1000 km]&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">12.7</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">142.9</span><span class="p">,</span> <span class="mf">49.5</span><span class="p">],</span>
<span class="gp">   ...: </span>    <span class="s1">&#39;Has Moon&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">   ...: </span>    <span class="s1">&#39;Distance from Sun [au]&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.39</span><span class="p">,</span> <span class="mf">0.72</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">,</span> <span class="mf">5.20</span><span class="p">,</span> <span class="mf">9.58</span><span class="p">]}</span>
<span class="gp">   ...: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="gp">In [3]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">df</span>
<span class="gh">Out[4]: </span>
<span class="go">      Name  Diameter [1000 km] Has Moon  Distance from Sun [au]</span>
<span class="go">0  Mercury                12.7       No                    0.39</span>
<span class="go">1    Venus               121.0       No                    0.72</span>
<span class="go">2    Earth                 NaN      Yes                    1.00</span>
<span class="go">3  Jupiter               142.9      Yes                    5.20</span>
<span class="go">4   Saturn                49.5      NaN                    9.58</span>
</pre></div>
</div>
</section>
<section id="step-2-create-a-planet">
<h3>Step 2: Create a <cite>Planet</cite><a class="headerlink" href="#step-2-create-a-planet" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Planet</span></code> class is a core component of the <code class="docutils literal notranslate"><span class="pre">Thema</span></code> library, designed for managing tabular data. Its primary purpose is to perturb, label, and navigate existing tabular datasets.</p>
<p>In the context of our demo, the <code class="docutils literal notranslate"><span class="pre">Planet</span></code> class serves as the medium for managing data, handling the transition from raw tabular data to scaled, encoded, and complete data. It is particularly useful for datasets with missing values, as it can fill missing values with randomly-sampled data and explore the distribution of possible missing values.</p>
<p>In the following sections, we will explore how to use the <code class="docutils literal notranslate"><span class="pre">Planet</span></code> class to preprocess and manage our data effectively.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="kn">from</span> <span class="nn">thema.multiverse</span> <span class="kn">import</span> <span class="n">Planet</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;myRawData.pkl&quot;</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">data_path</span> <span class="o">=</span> <span class="s2">&quot;myRawData.pkl&quot;</span>

<span class="gp">In [8]: </span><span class="n">planet</span> <span class="o">=</span> <span class="n">Planet</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data_path</span><span class="p">)</span>

<span class="gp">In [9]: </span><span class="n">planet</span>
<span class="gh">Out[9]: </span><span class="go">&lt;thema.multiverse.system.inner.planet.Planet at 0x17dbc3cd0&gt;</span>
</pre></div>
</div>
</section>
<section id="step-3-explore-dataset">
<h3>Step 3: Explore Dataset<a class="headerlink" href="#step-3-explore-dataset" title="Link to this heading">¶</a></h3>
<section id="planet-get-missingdata-summary-method">
<h4><code class="docutils literal notranslate"><span class="pre">Planet.get_missingData_summary()</span></code> Method<a class="headerlink" href="#planet-get-missingdata-summary-method" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">get_missingData_summary</span></code> function provides a breakdown of missing and complete data in the columns of the ‘data’ DataFrame. It returns a dictionary containing the following key-value pairs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'numericMissing'</span></code>: Numeric columns with missing values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'numericComplete'`</span></code>: Numeric columns without missing values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'categoricalMissing'</span></code>: Categorical columns with missing values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'categoricalComplete'</span></code>: Categorical columns without missing values.</p></li>
</ul>
<p>This function is useful for quickly understanding the data quality and identifying columns that may require imputation or other preprocessing steps.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">planet</span><span class="o">.</span><span class="n">get_missingData_summary</span><span class="p">()</span>
<span class="gh">Out[10]: </span>
<span class="go">{&#39;numericMissing&#39;: [&#39;Diameter [1000 km]&#39;],</span>
<span class="go"> &#39;numericComplete&#39;: [&#39;Distance from Sun [au]&#39;],</span>
<span class="go"> &#39;categoricalMissing&#39;: [&#39;Has Moon&#39;],</span>
<span class="go"> &#39;categoricalComplete&#39;: [&#39;Name&#39;]}</span>
</pre></div>
</div>
</section>
<section id="get-recommended-sampling-method-method">
<h4><code class="docutils literal notranslate"><span class="pre">get_recommended_sampling_method()</span></code> Method<a class="headerlink" href="#get-recommended-sampling-method-method" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">get_recommended_sampling_method()</span></code> method returns a list of recommended sampling methods for columns with missing values. For numeric columns, “sampleNormal” is recommended, while for non-numeric columns, “sampleCategorical” (most frequent value) is recommended.</p>
<p>By using these recommended sampling methods, you can effectively impute missing values in your dataset, ensuring that the data remains representative and usable for analysis without the need to drop rows or columns with missing data.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">planet</span><span class="o">.</span><span class="n">get_recomended_sampling_method</span><span class="p">()</span>
<span class="gh">Out[11]: </span><span class="go">[&#39;sampleNormal&#39;, &#39;mode&#39;]</span>
</pre></div>
</div>
</section>
<section id="get-na-as-list-method">
<h4><code class="docutils literal notranslate"><span class="pre">get_na_as_list()</span></code> Method<a class="headerlink" href="#get-na-as-list-method" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">get_na_as_list</span></code> method returns a list of column names that contain NaN values in the DataFrame. These columns correspond to the columns for which the recommended sampling method should be applied (as returned by <code class="docutils literal notranslate"><span class="pre">get_recommended_sampling_method</span></code>), providing a convenient way to identify columns that require imputation due to missing values.</p>
<p>By using the <cite>get_na_as_list</cite> method in conjunction with the <code class="docutils literal notranslate"><span class="pre">get_recommended_sampling_method</span></code> method, you can efficiently locate and address missing values in your dataset, ensuring that it is properly prepared for further analysis or modeling.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">planet</span><span class="o">.</span><span class="n">get_na_as_list</span><span class="p">()</span>
<span class="gh">Out[12]: </span><span class="go">[&#39;Diameter [1000 km]&#39;, &#39;Has Moon&#39;]</span>
</pre></div>
</div>
</section>
</section>
<section id="step-4-impute">
<h3>Step 4: Impute<a class="headerlink" href="#step-4-impute" title="Link to this heading">¶</a></h3>
<p>Assign <code class="docutils literal notranslate"><span class="pre">imputeMethods</span></code> and <code class="docutils literal notranslate"><span class="pre">imputeColumns</span></code> based on the recommended methods for each column <strong>*OR*</strong> define your own lists</p>
<p>Additionally, you can assign <code class="docutils literal notranslate"><span class="pre">imputeMethods</span></code> drop, which will drop using Pandas: <code class="docutils literal notranslate"><span class="pre">.dropna(axis=0,</span> <span class="pre">inplace=True)</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">planet</span><span class="o">.</span><span class="n">imputeMethods</span> <span class="o">=</span> <span class="n">planet</span><span class="o">.</span><span class="n">get_recomended_sampling_method</span><span class="p">()</span>

<span class="gp">In [14]: </span><span class="n">planet</span><span class="o">.</span><span class="n">imputeColumns</span> <span class="o">=</span> <span class="n">planet</span><span class="o">.</span><span class="n">get_na_as_list</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Why Encode and Scale?</strong></p>
<p>Encoding and scaling are important preprocessing steps in data preparation. Encoding transforms categorical variables into numerical values, making them suitable for machine learning algorithms. Scaling standardizes the range of numerical features, preventing features with large scales from dominating the model.</p>
<p><strong>Default Configuration</strong></p>
<ul class="simple">
<li><p><strong>Scaler</strong>: The default scaling method is “standard”, which scales features to have a mean of 0 and a variance of 1.</p></li>
<li><p><strong>Encoding</strong>: The default encoding method is “one_hot” for all categorical variables, which creates binary columns for each category.</p></li>
</ul>
<p><strong>Customization Options</strong></p>
<p>You can customize the encoding and scaling methods to suit your needs. For scaling, you can choose from an sklearn scaler classes. For encoding, you can select “integer” encoding for ordinal variables or “hash” encoding for high-cardinality categorical variables.</p>
</section>
<section id="step-5-assign-an-outdir">
<h3>Step 5: Assign an <code class="docutils literal notranslate"><span class="pre">outDir</span></code><a class="headerlink" href="#step-5-assign-an-outdir" title="Link to this heading">¶</a></h3>
<p>An <code class="docutils literal notranslate"><span class="pre">outDir</span></code>, or the place to write the imputed, encoded, and scaled data, is where a <code class="docutils literal notranslate"><span class="pre">thema.multiverse.Moon</span></code> object (or objects, see guide on Random Imputation) are saved as <code class="docutils literal notranslate"><span class="pre">.pkl</span></code> files.</p>
<p>This can also be done in the constructor or params <code class="docutils literal notranslate"><span class="pre">.yaml</span></code> file</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">planet</span><span class="o">.</span><span class="n">outDir</span> <span class="o">=</span> <span class="s1">&#39;&lt;YOUR DIRECTORY NAME&gt;&#39;</span>
</pre></div>
</div>
</section>
<section id="step-6-fit-planet">
<h3>Step 6: Fit <code class="docutils literal notranslate"><span class="pre">Planet</span></code><a class="headerlink" href="#step-6-fit-planet" title="Link to this heading">¶</a></h3>
<p>Fitting cleans, encodes, imputes, etc. your data, and then creates and pickles a <code class="docutils literal notranslate"><span class="pre">Moon</span></code> object containing your data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most objects in Thema have a <code class="docutils literal notranslate"><span class="pre">fit()</span></code> method, excecuting a procedure that can be time consuming depending on the size of your dataset.</p>
</div>
<p>As the <code class="docutils literal notranslate"><span class="pre">Planet.fit()</span></code> method writes a <code class="docutils literal notranslate"><span class="pre">thema.multiverse.Moon</span></code> object to a <code class="docutils literal notranslate"><span class="pre">.pkl</span></code> file, we will need to read in the file to view the data here. This step is not necessary, but its nice to see what the <cite>fit()</cite> method has done for the purpose of this user guide.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cleanedData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;&lt;YOUR DIRECTORY NAME&gt;/myRawData_standard_one_hot_imputed_0.pkl&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">imputeData</span>
</pre></div>
</div>
<p>Note the the <code class="docutils literal notranslate"><span class="pre">imputeData</span></code> member variable being used to access the <code class="docutils literal notranslate"><span class="pre">Moon</span></code>’s cleaned data. See <a class="reference internal" href="../multiverse/innerSystem.html#moon"><span class="std std-ref">Moon Class</span></a> documentation for more info on member variables, etc.</p>
</section>
<section id="step-7-get-params">
<h3>Step 7: Get Params<a class="headerlink" href="#step-7-get-params" title="Link to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We recommended using the the <code class="docutils literal notranslate"><span class="pre">planet.writeParams_toYaml()</span></code> method to write this dictionary to a <code class="docutils literal notranslate"><span class="pre">.yaml</span></code> file, which in turn can be passed to the <code class="docutils literal notranslate"><span class="pre">Planet</span></code> constructor as a <cite>YAML_PATH</cite> for quick pipelining. This will eliminate the need to explore, scale, encode, etc. your data again.</p>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">planet</span><span class="o">.</span><span class="n">getParams</span><span class="p">()</span>
<span class="gh">Out[16]: </span>
<span class="go">{&#39;data&#39;: &#39;myRawData.pkl&#39;,</span>
<span class="go"> &#39;scaler&#39;: &#39;standard&#39;,</span>
<span class="go"> &#39;encoding&#39;: &#39;one_hot&#39;,</span>
<span class="go"> &#39;dropColumns&#39;: [],</span>
<span class="go"> &#39;imputeColumns&#39;: [&#39;Diameter [1000 km]&#39;, &#39;Has Moon&#39;],</span>
<span class="go"> &#39;imputeMethods&#39;: [&#39;sampleNormal&#39;, &#39;mode&#39;],</span>
<span class="go"> &#39;numSamples&#39;: 1,</span>
<span class="go"> &#39;seeds&#39;: [42],</span>
<span class="go"> &#39;outDir&#39;: &#39;&lt;YOUR DIRECTORY NAME&gt;&#39;}</span>
</pre></div>
</div>
<p>Once you have explored your data and determined how to best preprocess, this entire workflow can be streamlined using the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">thema.multiverse</span> <span class="kn">import</span> <span class="n">Planet</span>

<span class="n">yaml</span> <span class="o">=</span> <span class="s2">&quot;&lt;PATH TO params.yaml&gt;&quot;</span>

<span class="n">planet</span> <span class="o">=</span> <span class="n">Planet</span><span class="p">(</span><span class="n">YAML_PATH</span><span class="o">=</span><span class="n">yaml</span><span class="p">)</span>
<span class="n">planet</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="embedding.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Embeddings</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="installation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Sidney Gathrid, Stuart Wayland, Jeremy Wayland
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Data Preprocessing</a><ul>
<li><a class="reference internal" href="#manual-data-exploration">Manual Data Exploration</a></li>
<li><a class="reference internal" href="#walkthrough">Walkthrough</a><ul>
<li><a class="reference internal" href="#step-1-data">Step 1: Data</a></li>
<li><a class="reference internal" href="#step-2-create-a-planet">Step 2: Create a <cite>Planet</cite></a></li>
<li><a class="reference internal" href="#step-3-explore-dataset">Step 3: Explore Dataset</a><ul>
<li><a class="reference internal" href="#planet-get-missingdata-summary-method"><code class="docutils literal notranslate"><span class="pre">Planet.get_missingData_summary()</span></code> Method</a></li>
<li><a class="reference internal" href="#get-recommended-sampling-method-method"><code class="docutils literal notranslate"><span class="pre">get_recommended_sampling_method()</span></code> Method</a></li>
<li><a class="reference internal" href="#get-na-as-list-method"><code class="docutils literal notranslate"><span class="pre">get_na_as_list()</span></code> Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-4-impute">Step 4: Impute</a></li>
<li><a class="reference internal" href="#step-5-assign-an-outdir">Step 5: Assign an <code class="docutils literal notranslate"><span class="pre">outDir</span></code></a></li>
<li><a class="reference internal" href="#step-6-fit-planet">Step 6: Fit <code class="docutils literal notranslate"><span class="pre">Planet</span></code></a></li>
<li><a class="reference internal" href="#step-7-get-params">Step 7: Get Params</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>